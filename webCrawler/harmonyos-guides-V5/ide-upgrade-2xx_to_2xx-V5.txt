2.X.X与5.X.X版本升级
如需将ohpm-repo版本2.X.X/5.X.X版本升级到更高的2.X.X/5.X.X版本，可参考此文档。
1. 在升级之前，请务必备份好ohpm-repo私仓工具中的历史数据，避免因升级操作失误，导致数据丢失。备份的内容包括：<deploy_root>ohpm-repo部署根目录内数据，db元数据和store三方包数据，详细步骤可参考数据备份 。
2. 如果您想要改变db元数据和store三方包的存储方式，可在正确升级后参考数据迁移文档指导修改。
旧版本服务停止：如果旧版本的服务还在运行，升级版本前请停止，进入旧版本ohpm-repo私仓工具包解压目录下的bin目录，执行 stop。ohpm-repo stop  如果部署的是多实例，升级前需要停下所有机器中的ohpm-repo服务，再进行升级操作。若想在其他目录使用ohpm-repo，请将对应版本ohpm-repo工具包解压目录中bin目录的路径配置到系统环境变量path中。  下载并解压工具包：下载新版本 的 ohpm-repo 私仓工具包，并解压（请解压到一个空文件夹中）。 安装完成之后，进入ohpm-repo 私仓工具包解压目录下的 bin 目录，执行如下命令：ohpm-repo -v 终端输出为新版本的版本号，则表示解压成功。 移植配置文件信息： ohpm-repo的版本更新前后都保持在2.X.X/5.X.X范围内，新版本配置文件可以直接复用旧版本配置文件。找到ohpm-repo旧版本的配置文件：如果旧版本未指定配置文件，使用默认配置文件：旧版本ohpm-repo解压根目录/conf/config.yaml。拷贝旧版本配置文件至新版本：复制旧版本的配置文件到新版ohpm-repo解压目录下的conf文件夹，覆盖新版本中的默认配置文件。 （可选项）新版本如果需要使用新的部署目录<new_deploy_root>，需要手动迁移数据。升级ohpm-repo：按照步骤1-4，解压ohpm-repo并拷贝替换配置文件信息。建立新部署目录：判断指定的新部署目录<new_deploy_root>是否存在，不存在则新建，新部署目录需存在且为空。拷贝数据文件：拷贝旧版本部署目录<deploy_root>下的全部文件至新部署目录中。修改新版本ohpm-repo配置文件：打开新版本ohpm-repo的解压根目录，进入conf目录下，修改配置文件config.yaml中配置项 deploy_root 为新的部署目录<new_deploy_root>。  在使用新部署目录时，旧版本的部署目录中meta文件必须要迁移到新版本部署目录中，否则将导致使用meta加密组件加密的数据无法被正确解密。  
新版本服务启动：正确拷贝替换配置文件信息后，进入ohpm-repo私仓工具包解压目录下的bin目录，执行以下命令启动新版本ohpm-repo服务。执行安装命令：ohpm-repo install 结果示例：  刷新环境变量：安装成功后，必须根据给出的提示信息刷新环境变量，Window系统和Linux/Mac 系统，有不同处理方式：Window系统： 关闭当前窗口，重新开启一个窗口。 Linux/Mac系统： 5.0.1之前版本：在命令行中执行刷新命令：source ~/.bashrc或者 . ~/.bashrc ； 5.0.1及以后版本： 在命令行中执行刷新命令：当shell为bash时执行source ~/.bashrc 或者 . ~/.bashrc ；当shell为zsh时执行source ~/.zshrc 或者 . ~/.zshrc 。   执行start命令：ohpm-repo start 结果示例：   版本升级之前，如果浏览器中已访问ohpm-repo页面，版本升级之后请刷新ohpm-repo页面。   多实例部署机器快速升级：在多实例部署中，其他机器同步骤1-6进行快速升级操作。
