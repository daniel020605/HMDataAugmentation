沙盒测试
沙盒测试允许开发者在接入华为应用内支付调测过程中无需真实支付即可完成支付测试。
配置沙盒测试
 添加测试账号在进行测试前，需要在AppGallery Connect中的“用户与访问”中添加测试账号，这些测试账号都是真实的华为账号。开发者在接入IAP Kit沙盒测试时，需要在测试设备上登录已配置的测试账号。添加沙盒测试账号步骤如下：  登录AppGallery Connect网站，选择“用户与访问”。 左侧导航栏选择“沙盒测试 > 测试账号”，点击“新增”。 填写测试账号信息后，点击“确认”。      此配置需要5~10min才能生效。   
 构建debug签名的应用接入的应用必须是debug签名的应用。构建debug签名应用步骤如下：  参见手动签名方式调试HarmonyOS应用/元服务，申请应用调试证书->注册调试设备->申请调试Profile。 参见配置签名信息，在DevEco Studio侧配置签名信息。 在AppGallery Connect中配置应用签名证书指纹。  
沙盒测试能力未生效自检
如果配置的沙盒账号未生效，可参见配置沙盒测试检查当前是否满足沙盒测试的两个条件：
 是否已在AppGallery Connect添加测试账号。 应用是否是debug签名。 
此外也可在应用中使用isSandboxActivated接口来检查当前沙盒环境不可用的原因。
测试消耗型/非消耗型商品购买
在满足沙盒测试条件下，开发者调用createPurchase接口拉起收银台，用户按照正常流程完成购买，但实际不会产生真实扣费。
 沙盒环境下的购买流程与正式环境的购买流程一致，仍需要完成绑定付款方式，但该过程不会真实扣费。 IAP购买成功后的收据信息PurchaseOrderPayload中，会携带值为\"SANDBOX\"的environment字段，标识此次购买为沙盒测试的记录。 沙盒环境下购买非消耗型商品，购买之后可以确认发货以完成购买，之后可以再次购买，以方便测试。 沙盒测试拉起收银台时，会在收银台展示沙盒测试提示，结果页也有沙盒环境的标志，如下图所示。 
如果未显示截图的提示页面，表示本次交易未进入沙盒测试环境，继续测试会实际扣费，请检查当前是否满足沙盒测试的两个条件。开发者也可在应用中使用isSandboxActivated接口来检查当前沙盒环境不可用的原因。
测试自动续期订阅商品
自动续期订阅商品的购买流程和消耗型/非消耗型商品的购买流程类似，但订阅还有其他细节场景，比如续订成功或失败，续订周期时长。为了帮助开发者快速测试应用的订阅场景，沙盒环境下的订阅续订时间会比正常情况更快，引入“时光机”概念，沙盒环境中的订阅换算时间为10秒/天。比如订阅周期为1周，商品将在首次购买成功70秒后发生续期。
 沙盒环境下的订阅流程与正式环境的订阅流程一致，仍需要完成绑定付款方式，但该过程不会真实扣费。 IAP扣费成功后的收据信息PurchaseOrderPayload中，会携带值为\"SANDBOX\"的environment字段，标识此次购买为沙盒测试的记录。 自动续期处理不需要完成真实扣款，IAP会直接返回成功。 订阅在沙盒场景下会自动续期5次(一共6期)，5次之后需要用户主动发起恢复订阅。 沙盒测试拉起收银台时，会在收银台展示沙盒测试提示，结果页也有沙盒环境的标志，如下图所示。 
