典型场景展示
如下展示两种智能填充的典型场景。
实名购票场景
示例一：智能识别剪贴板内容，一键复制，一键填充。
示例二：根据用户输入，智能关联设备上历史表单输入、华为账号等信息提供输入建议，一键填充。
填写收货地址场景
示例一：智能识别剪贴板内容，一键复制，一键填充。
示例二：根据用户输入，智能关联设备上历史表单输入、华为账号等信息提供输入建议，一键填充。
示例代码
import { router } from '@kit.ArkUI';\nimport { autoFillManager } from '@kit.AbilityKit';\nimport { hilog } from '@kit.PerformanceAnalysisKit';\nimport { BusinessError } from '@kit.BasicServicesKit';\n\n@Entry\n@Component\nstruct SmartFill {\n  @State isClicked: boolean = false;\n\n  build() {\n    Column({ space: 5 }) {\n      Row() {\n        Text('昵称：').textAlign(TextAlign.End).width('25%')\n        TextInput().width('75%').contentType(ContentType.NICKNAME).selectionMenuHidden(true)\n      }\n\n      Row() {\n        Text('姓名：').textAlign(TextAlign.End).width('25%')\n        TextInput().width('75%').contentType(ContentType.PERSON_FULL_NAME).selectionMenuHidden(true)\n      }\n\n      Row() {\n        Text('手机号码：').textAlign(TextAlign.End).width('25%')\n        TextInput().width('75%').contentType(ContentType.PHONE_NUMBER).selectionMenuHidden(true)\n      }\n\n      Row() {\n        Text('邮箱：').textAlign(TextAlign.End).width('25%')\n        TextInput().width('75%').contentType(ContentType.EMAIL_ADDRESS).selectionMenuHidden(true)\n      }\n\n      Row() {\n        Text('身份证号：').textAlign(TextAlign.End).width('25%')\n        TextInput().width('75%').contentType(ContentType.ID_CARD_NUMBER).selectionMenuHidden(true)\n      }\n\n      Row() {\n        Text('地址：').textAlign(TextAlign.End).width('25%')\n        TextInput().width('75%').contentType(ContentType.FORMAT_ADDRESS).selectionMenuHidden(true)\n      }\n\n      Button('保存')\n        .onClick(() => {\n          if (!this.isClicked) {\n            // 主动触发保存历史表单输入\n            try {\n              autoFillManager.requestAutoSave(this.getUIContext())\n            } catch (err) {\n              let e: BusinessError = err as BusinessError;\n              hilog.error(0x0000, 'DemoTest', 'error: %{public}d %{public}s', e.code, e.message);\n            }\n            this.isClicked = true;\n            // 设置超时时间以防止重复点击按钮保存历史表单输入\n            setTimeout(() => {\n              this.isClicked = false;\n            }, 1000)\n            // 或者通过路由跳转其他页面触发保存历史表单输入\n            router.pushUrl({\n              url: 'xxx'\n            })\n          }\n        })\n        .width(\"50%\")\n    }\n    .alignItems(HorizontalAlign.Center)\n    .height('100%')\n    .width('100%')\n  }\n}
智能填充在页面发生跳转的时候，或者手动触发保存逻辑的时候，方可触发保存表单逻辑。
剪贴板文本内容识别功能现已实现超过90%的准确率。尽管如此，我们认识到在特定场景下仍可能出现识别误差。为了提升填表数据的准确性，我们建议在关键环节引入增强校验。这些校验措施包括但不限于：格式校验：自动检测输入格式，确保数据符合预设标准。确认提示：在提交前通过弹窗提示用户再次确认信息，避免输入错误。 若您在页面中也提供了弹窗提醒填充建议的功能，为避免弹窗冲突，建议您将对应输入组件的enableAutoFill属性设置为“false”以关闭智能填充功能。
