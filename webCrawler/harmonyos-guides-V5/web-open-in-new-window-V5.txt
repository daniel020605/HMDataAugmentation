在新窗口中打开页面
Web组件提供了在新窗口打开页面的能力，开发者可以通过multiWindowAccess()接口来设置是否允许网页在新窗口打开。当有新窗口打开时，应用侧会在onWindowNew()接口中收到Web组件新窗口事件，开发者需要在此接口事件中，新建窗口来处理Web组件窗口请求。
 allowWindowOpenMethod()接口设置为true时，前端页面通过JavaScript函数调用的方式打开新窗口。 如果开发者在onWindowNew()接口通知中没有创建新窗口，需要将ControllerHandler.setWebController()接口参数设置成null。 
如下面的本地示例，当用户点击“新窗口中打开网页”按钮时，应用侧会在onWindowNew()接口中收到Web组件新窗口事件。
 应用侧代码。 // xxx.ets\nimport { webview } from '@kit.ArkWeb';\n\n// 在同一page页有两个Web组件。在WebComponent新开窗口时，会跳转到NewWebViewComp。\n@CustomDialog\nstruct NewWebViewComp {\n  controller?: CustomDialogController;\n  webviewController1: webview.WebviewController = new webview.WebviewController();\n\n  build() {\n    Column() {\n      Web({ src: \"\", controller: this.webviewController1 })\n        .javaScriptAccess(true)\n        .multiWindowAccess(false)\n        .onWindowExit(() => {\n          console.info(\"NewWebViewComp onWindowExit\");\n          if (this.controller) {\n            this.controller.close();\n          }\n        })\n    }\n  }\n}\n\n@Entry\n@Component\nstruct WebComponent {\n  controller: webview.WebviewController = new webview.WebviewController();\n  dialogController: CustomDialogController | null = null;\n\n  build() {\n    Column() {\n      Web({ src: $rawfile(\"window.html\"), controller: this.controller })\n        .javaScriptAccess(true)\n          // 需要使能multiWindowAccess\n        .multiWindowAccess(true)\n        .allowWindowOpenMethod(true)\n        .onWindowNew((event) => {\n          if (this.dialogController) {\n            this.dialogController.close()\n          }\n          let popController: webview.WebviewController = new webview.WebviewController();\n          this.dialogController = new CustomDialogController({\n            builder: NewWebViewComp({ webviewController1: popController })\n          })\n          this.dialogController.open();\n          // 将新窗口对应WebviewController返回给Web内核。\n          // 若不调用event.handler.setWebController接口，会造成render进程阻塞。\n          // 如果没有创建新窗口，调用event.handler.setWebController接口时设置成null，通知Web没有创建新窗口。\n          event.handler.setWebController(popController);\n        })\n    }\n  }\n} window.html页面代码。 <!DOCTYPE html>\n<html>\n<head>\n    <meta name=\"viewport\" content=\"width=device-width\"/>\n    <title>WindowEvent</title>\n</head>\n<body>\n<input type=\"button\" value=\"新窗口中打开网页\" onclick=\"OpenNewWindow()\">\n<script type=\"text/javascript\">\n    function OpenNewWindow()\n    {\n        var txt = '打开的窗口';\n        let openedWindow = window.open(\"about:blank\", \"\", \"location=no,status=no,scrollvars=no\");\n        openedWindow.document.write(\"<p>\" + \"<br><br>\" + txt.fontsize(10) + \"</p>\");\n        openedWindow.focus();\n    }\n</script>\n</body>\n</html> 
图1 新窗口中打开页面效果图
