HAR转HSP指导
目前HAR的使用存在打包多份，包膨胀的问题，导致整体应用包的体积很大，HSP可以很好地解决该问题，本文介绍了HAR转HSP的步骤，主要是通过配置项的变更将HAR工程变成HSP工程。
HAR转HSP的操作步骤
修改HAR模块下的module.json5文件，修改type字段为shared，新增deliveryWithInstall和pages字段。 // MyApplication\\library\\src\\main\\module.json5\n{\n  \"module\": {\n    \"type\": \"shared\",\n    \"deliveryWithInstall\": true,\n    \"pages\": \"$profile:main_pages\"\n    // ...\n  }\n} 在resources下的base，en_US和zh_CN的element下新增一个string字段shared_desc。 // MyApplication\\library\\src\\main\\resources\\base\\element\\string.json\n{\n  \"string\": [\n    {\n      \"name\": \"shared_desc\",\n      \"value\": \"description\"\n    }\n  ]\n} 在resources\\base下新增profile文件夹，在profile下新增一个main_pages.json文件，并配置如下内容。 // MyApplication\\library\\src\\main\\resources\\base\\profile\\main_pages.json\n{\n  \"src\": [\n    \"pages/PageIndex\"\n  ]\n} 在ets目录下新增pages目录，并在pages目录下新增PageIndex.ets文件，并配置如下内容。 // MyApplication\\library\\src\\main\\ets\\pages\\PageIndex.ets\n@Entry\n@Component\nstruct PageIndex {\n  @State message: string = 'hello world';\n\n  build() {\n    Row() {\n      Column() {\n        Text(this.message)\n          .fontSize(50)\n          .fontWeight(FontWeight.Bold)\n      }\n      .width('100%')\n    }\n    .height('100%')\n  }\n} 删除HAR模块的build-profile.json5文件中的consumerFiles字段配置。 修改HAR模块的hvigorfile.ts文件，将下面内容替换该文件内容。 // MyApplication\\library\\hvigorfile.ts\nimport { hspTasks } from '@ohos/hvigor-ohos-plugin';\n\nexport default {\n  system: hspTasks,  /* Built-in plugin of Hvigor. It cannot be modified. */\n  plugins:[]         /* Custom plugin to extend the functionality of Hvigor. */\n} 修改oh-package.json5文件，新增packageType配置。 // MyApplication\\library\\oh-package.json5\n{\n  \"packageType\": \"InterfaceHar\"\n} 修改项目根目录下的配置文件build-profile.json5，在modules标签下找到library的配置，新增targets标签。 // MyApplication\\build-profile.json5\n\"modules\": [\n  {\n    \"name\": \"library\",\n    \"srcPath\": \"./library\",\n    \"targets\": [\n      {\n        \"name\": \"default\",\n        \"applyToProducts\": [\n          \"default\"\n        ]\n      }\n    ]\n  }\n] 
